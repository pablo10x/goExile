@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Kanit:wght@800;900&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Black+Ops+One&family=Syncopate:wght@400;700&family=Michroma&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Red+Hat+Mono:wght@300;400;500;600;700&family=Roboto:wght@400;700&family=Lato:wght@400;700&family=Montserrat:wght@400;700;900&family=Poppins:wght@400;700&family=Playfair+Display:wght@400;700&family=Fira+Code:wght@400;700&family=Open+Sans:wght@400;700&display=swap');
@import "tailwindcss";

@theme {
  --font-heading: var(--font-header);
  --font-body: var(--font-body);
  --font-sans: var(--font-body);
  --font-primary: var(--font-body);
  --font-mono: var(--font-mono);
  --font-orbitron: var(--font-orbitron);
  --font-rajdhani: var(--font-rajdhani);
  --font-blackops: var(--font-blackops);
  --font-syncopate: var(--font-syncopate);
  --font-michroma: var(--font-michroma);
  --font-jetbrains: var(--font-jetbrains);

  --color-rust: var(--color-rust);
  --color-rust-light: var(--color-rust-light);
  --color-rust-dark: var(--color-rust-dark);
  --color-bg-core: var(--bg-core);
  --color-bg-surface: var(--bg-surface);
  
  --color-success: var(--color-success);
  --color-warning: var(--color-warning);
  --color-danger: var(--color-danger);
  --color-info: var(--color-info);
  
  --color-terminal: var(--terminal-bg);
  --color-text-dim: var(--text-dim);
  
  --color-surface: var(--bg-surface);
  --color-surface-header: var(--bg-surface-header);
  --color-surface-raised: var(--bg-surface-raised);
  
  --color-cyan-500: #06b6d4;
  --color-green-500: #22c55e;
  --color-red-500: #ef4444;
  --color-purple-500: #a855f7;
  --color-stone-500: #78716c;
  
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  
  --animate-rain-fast: rainLoop 0.8s linear infinite;
  --animate-rain-mid: rainLoop 1.5s linear infinite;
  --animate-rain-slow: rainLoop 3s linear infinite;
  --animate-cloud-drift: cloudLoop 120s linear infinite;
  --animate-flicker: flicker 4s linear infinite;
  --animate-glitch: glitch var(--glitch-hz, 0.3s) cubic-bezier(.25, .46, .45, .94) both infinite;
  --animate-shine: shine 2s infinite;
  --animate-scanline_sweep: scanline_sweep var(--scanline-hz, 4s) linear infinite;
  --animate-bounce_tactical: bounce_tactical 2s ease infinite;
  --animate-spin-reactive: spin var(--spin-speed, 3s) linear infinite;
  --animate-typing: text-reveal var(--typing-speed, 1s) steps(40, end);
  --animate-header-pulse: header-glow var(--header-pulse, 2s) ease-in-out infinite;

  @keyframes rainLoop {
    0% { transform: translate3d(0, -100px, 0); }
    100% { transform: translate3d(20px, 100px, 0); }
  }

  @keyframes cloudLoop {
    0% { transform: translate3d(-10%, -5%, 0); }
    50% { transform: translate3d(0%, 0%, 0); }
    100% { transform: translate3d(-10%, -5%, 0); }
  }

  @keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.3; }
  }

  @keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
  }

  @keyframes shine {
    0% { left: -100%; }
    20% { left: 100%; }
    100% { left: 100%; }
  }

  @keyframes terminal-glitch-anim {
    0% { opacity: 0; transform: skewX(0deg); }
    1% { opacity: 0.8; transform: skewX(-20deg); clip-path: inset(10% 0 80% 0); }
    2% { opacity: 0.8; transform: skewX(20deg); clip-path: inset(60% 0 10% 0); }
    3% { opacity: 0.8; transform: skewX(-10deg); clip-path: inset(40% 0 40% 0); }
    4% { opacity: 0; transform: skewX(0deg); }
    100% { opacity: 0; }
  }

  @keyframes scanline_sweep {
    0% { transform: translateY(-100%); opacity: 0; }
    50% { opacity: 0.5; }
    100% { transform: translateY(1000%); opacity: 0; }
  }

  @keyframes bounce_tactical {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
  }

  @keyframes panic-flash {
    0%, 100% { background-color: rgba(5, 5, 5, 1); }
    50% { background-color: rgba(153, 27, 27, 0.2); }
  }

  @keyframes industrial-glitch {
    0% { transform: translate(0); opacity: 1; }
    20% { transform: translate(-2px, 1px); opacity: 0.8; }
    40% { transform: translate(2px, -1px); opacity: 0.9; }
    60% { transform: translate(-1px, -2px); opacity: 0.8; }
    80% { transform: translate(1px, 2px); opacity: 0.9; }
    100% { transform: translate(0); opacity: 1; }
  }

  @keyframes crt-flicker {
    0% { opacity: 0.01; }
    50% { opacity: 0.02; }
    100% { opacity: 0.01; }
  }
}

/* Custom Scrollbar Global */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: var(--scrollbar-track, rgba(0, 0, 0, 0.2));
}
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb, #3f3f46);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}
::-webkit-scrollbar-thumb:hover {
  background: var(--primary-color, var(--color-rust));
}

:root {
  /* Core Palette - Tactical Dystopian */
  --bg-core: #18181b; /* Zinc 900 */
  --bg-surface: #27272a; /* Zinc 800 */
  --bg-surface-header: #0f172a; /* Darker header */
  --bg-surface-raised: #09090b; /* Zinc 950 */
  
  --text-primary: #e2e2e2;
  --text-secondary: #888888;
  --text-dim: #444444;
  
  --color-rust: #c2410c; /* Muted amber-orange */
  --color-rust-light: #f59e0b;
  --color-rust-dark: #7c2d12;
  
  --color-steel: #1e293b;
  --color-steel-light: #334155;
  --color-obsidian: #020617;
  
  --border-color: #1e293b;
  --border-color-light: #334155;
  --border-accent: rgba(194, 65, 12, 0.15);
  
  /* Modern Effects */
  --backdrop-blur: 20px;
  --card-alpha: 0.6;
  --glass-border-alpha: 0.05;
  --glow-intensity: 0.3;
  --glow-color: #f97316;
  
  /* Layout Defaults */
  --sidebar-width: 280px;
  --radius-sm: 0px;
  --radius-md: 2px;
  --radius-lg: 4px;
  --font-size-base: 14px;

  /* Specialized Colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;
  --color-info: #06b6d4;
  --terminal-bg: #050505;

  /* Legacy mapping */
  --bg-color: var(--bg-core);
  --accent-color: var(--color-rust);
  --accent-color-light: var(--color-rust-light);
  --sidebar-bg: var(--sidebar-bg, rgba(24, 24, 27, 0.9));
  --header-bg: var(--header-bg, rgba(0, 0, 0, 0.8));
  --font-heading: 'Kanit', sans-serif;
  --font-primary: "Inter", sans-serif;
}

html {
  background-color: transparent;
}

body {
  background-color: transparent;
  font-family: var(--font-primary);
  color: var(--text-primary);
  font-size: var(--font-size-base);
  line-height: var(--text-line-height, 1.5);
  letter-spacing: var(--text-letter-spacing, normal);
  font-weight: var(--base-weight, 400);
  @apply font-body selection:bg-rust selection:text-white transition-colors duration-300;
  position: relative;
  overflow-x: hidden;
  min-height: 100vh;
}

p {
  margin-bottom: var(--paragraph-spacing, 1em);
}

code, pre, .font-mono {
  font-family: var(--font-mono);
  font-weight: var(--mono-weight, 400);
}

h1, h2, h3, h4, .font-heading {
  font-family: var(--font-header);
  font-weight: var(--heading-weight, 900);
  text-transform: var(--text-transform, uppercase);
  letter-spacing: calc(var(--text-letter-spacing, 0.05em) * 2);
}

.text-glow-enabled .military-label,
.text-glow-enabled .nav-text,
.text-glow-enabled h1,
.text-glow-enabled h2,
.text-glow-enabled .font-heading {
  text-shadow: 0 0 calc(var(--text-glow-intensity, 0.5) * 20px) var(--glow-color, rgba(249, 115, 22, var(--glow-intensity, 0.4)));
}

/* Tactical interactive elements */
button, a {
  transition: all var(--global-transition, 300ms) cubic-bezier(0.23, 1, 0.32, 1);
  outline: none;
  cursor: pointer;
}

/* Accessibility: Professional Focus HUD */
:focus-visible {
  outline: 2px solid var(--primary-color);
  outline-offset: 4px;
  box-shadow: 0 0 15px var(--primary-color);
}

.nav-link-industrial {
  @apply flex items-center p-3 relative transition-all duration-300 overflow-hidden border border-transparent;
  gap: 1.25rem;
  z-index: 70;
  border-left: 3px solid transparent;
  /* GPU acceleration for sliding states */
  transform: translateZ(0);
}

.nav-link-industrial:hover, .nav-link-industrial:focus-visible {
  background-color: var(--hover-color, rgba(30, 41, 59, 0.4));
  border-left-color: var(--text-secondary);
}

.nav-link-industrial.active {
  @apply text-white;
  background: linear-gradient(90deg, color-mix(in srgb, var(--primary-color) 15%, transparent) 0%, transparent 100%);
  background-color: var(--hover-color);
  border-left-color: var(--primary-color);
}

.nav-icon-container {
  @apply w-10 h-10 flex items-center justify-center bg-stone-950 border border-stone-800 transition-all duration-300;
  flex-shrink: 0;
  /* Hardware acceleration */
  transform: translate3d(0,0,0);
}

/* Dynamic Industrial Frames - Optimized clip-paths */
.industrial-frame {
  @apply relative;
  border: var(--card-border-width) solid var(--border-color);
  clip-path: polygon(
    0 0, 
    calc(100% - 12px) 0, 100% 12px, 
    100% 100%, 
    12px 100%, 0 calc(100% - 12px)
  );
  /* Prevent anti-aliasing artifacts on clips */
  -webkit-mask-image: -webkit-radial-gradient(white, black);
}

.industrial-sharp {
  border: 2px solid var(--border-color) !important;
  box-shadow: 6px 6px 0px rgba(0,0,0,0.4) !important;
  border-radius: 0 !important;
  transform: translateZ(0);
}

/* Reduced Motion Hardening */
@media (prefers-reduced-motion: reduce) {
  *, ::before, ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* CRT Effects - Hyper-Optimized */
.crt-container {
  position: relative;
  overflow: hidden;
  /* Use hardware acceleration for the container */
  transform: translate3d(0,0,0);
}

.crt-container::before {
  content: " ";
  display: block;
  position: fixed;
  inset: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
              linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
  z-index: 101;
  background-size: 100% 3px, 3px 100%;
  pointer-events: none;
  opacity: 0.4;
  /* GPU Layer promotion */
  transform: translateZ(0);
  will-change: opacity;
}

.crt-container::after {
  content: " ";
  display: block;
  position: fixed;
  inset: 0;
  background: rgba(18, 16, 16, 0.03);
  opacity: 0;
  z-index: 101;
  pointer-events: none;
  animation: crt-flicker 0.15s infinite;
  transform: translateZ(0);
}

.vignette {
  position: fixed;
  inset: 0;
  z-index: 40;
  background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,calc(var(--vignette-intensity, 0.5) * 0.8)) 70%, rgba(0,0,0,var(--vignette-intensity, 0.5)) 100%);
  pointer-events: none;
  transform: translateZ(0);
}

.bg-grid {
  background-image:
    linear-gradient(rgba(255, 255, 255, var(--grid-opacity, 0.05)) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, var(--grid-opacity, 0.05)) 1px, transparent 1px);
  background-size: 30px 30px;
}

@keyframes crt-flicker {
  0% { opacity: 0.01; }
  50% { opacity: 0.02; }
  100% { opacity: 0.01; }
}