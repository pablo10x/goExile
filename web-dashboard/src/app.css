@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Kanit:wght@800;900&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Black+Ops+One&family=Syncopate:wght@400;700&family=Michroma&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Red+Hat+Mono:wght@300;400;500;600;700&family=Roboto:wght@400;700&family=Lato:wght@400;700&family=Montserrat:wght@400;700;900&family=Poppins:wght@400;700&family=Playfair+Display:wght@400;700&family=Fira+Code:wght@400;700&family=Open+Sans:wght@400;700&display=swap');
@import "tailwindcss";

@theme {
  --font-heading: var(--font-header);
  --font-body: var(--font-body);
  --font-sans: var(--font-body);
  --font-primary: var(--font-body);
  --font-mono: var(--font-mono);
  --font-orbitron: var(--font-orbitron);
  --font-rajdhani: var(--font-rajdhani);
  --font-blackops: var(--font-blackops);
  --font-syncopate: var(--font-syncopate);
  --font-michroma: var(--font-michroma);
  --font-jetbrains: var(--font-jetbrains);

  --color-rust: var(--color-rust);
  --color-rust-light: var(--color-rust-light);
  --color-rust-dark: var(--color-rust-dark);
  --color-bg-core: var(--bg-core);
  --color-bg-surface: var(--bg-surface);
  
  --color-cyan-500: #06b6d4;
  --color-green-500: #22c55e;
  --color-red-500: #ef4444;
  --color-purple-500: #a855f7;
  --color-stone-500: #78716c;
  
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  
  --animate-rain-fast: rainLoop 0.8s linear infinite;
  --animate-rain-mid: rainLoop 1.5s linear infinite;
  --animate-rain-slow: rainLoop 3s linear infinite;
  --animate-cloud-drift: cloudLoop 120s linear infinite;
  --animate-flicker: flicker 4s linear infinite;
  --animate-glitch: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
  --animate-shine: shine 2s infinite;
  --animate-scanline_sweep: scanline_sweep var(--scanline-speed, 4s) linear infinite;
  --animate-bounce_tactical: bounce_tactical 2s ease infinite;

  @keyframes rainLoop {
    0% { transform: translate3d(0, -100px, 0); }
    100% { transform: translate3d(20px, 100px, 0); }
  }

  @keyframes cloudLoop {
    0% { transform: translate3d(-10%, -5%, 0); }
    50% { transform: translate3d(0%, 0%, 0); }
    100% { transform: translate3d(-10%, -5%, 0); }
  }

  @keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.3; }
  }

  @keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
  }

  @keyframes shine {
    0% { left: -100%; }
    20% { left: 100%; }
    100% { left: 100%; }
  }

  @keyframes terminal-glitch-anim {
    0% { opacity: 0; transform: skewX(0deg); }
    1% { opacity: 0.8; transform: skewX(-20deg); clip-path: inset(10% 0 80% 0); }
    2% { opacity: 0.8; transform: skewX(20deg); clip-path: inset(60% 0 10% 0); }
    3% { opacity: 0.8; transform: skewX(-10deg); clip-path: inset(40% 0 40% 0); }
    4% { opacity: 0; transform: skewX(0deg); }
    100% { opacity: 0; }
  }

  @keyframes scanline_sweep {
    0% { transform: translateY(-100%); opacity: 0; }
    50% { opacity: 0.5; }
    100% { transform: translateY(1000%); opacity: 0; }
  }

  @keyframes bounce_tactical {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
  }

  @keyframes panic-flash {
    0%, 100% { background-color: rgba(5, 5, 5, 1); }
    50% { background-color: rgba(153, 27, 27, 0.2); }
  }

  @keyframes industrial-glitch {
    0% { transform: translate(0); opacity: 1; }
    20% { transform: translate(-2px, 1px); opacity: 0.8; }
    40% { transform: translate(2px, -1px); opacity: 0.9; }
    60% { transform: translate(-1px, -2px); opacity: 0.8; }
    80% { transform: translate(1px, 2px); opacity: 0.9; }
    100% { transform: translate(0); opacity: 1; }
  }

  @keyframes crt-flicker {
    0% { opacity: 0.01; }
    50% { opacity: 0.02; }
    100% { opacity: 0.01; }
  }
}

:root {
  /* Core Palette - Tactical Dystopian */
  --bg-core: #020202;
  --bg-surface: #080808;
  --bg-surface-header: #0c0c0c;
  --bg-surface-raised: #121212;
  
  --text-primary: #e2e2e2;
  --text-secondary: #888888;
  --text-dim: #444444;
  
  --color-rust: #c2410c; /* Muted amber-orange */
  --color-rust-light: #f59e0b;
  --color-rust-dark: #7c2d12;
  
  --color-steel: #1e293b;
  --color-steel-light: #334155;
  --color-obsidian: #020617;
  
  --border-color: #1e293b;
  --border-color-light: #334155;
  --border-accent: rgba(194, 65, 12, 0.15);
  
  /* Modern Effects */
  --backdrop-blur: 20px;
  --card-alpha: 0.6;
  --glass-border-alpha: 0.05;
  --glow-intensity: 0.3;
  --glow-color: #f97316;
  
  /* Layout Defaults */
  --sidebar-width: 280px;
  --radius-sm: 0px;
  --radius-md: 2px;
  --radius-lg: 4px;
  --font-size-base: 14px;

  /* Legacy mapping */
  --bg-color: var(--bg-core);
  --accent-color: var(--color-rust);
  --accent-color-light: var(--color-rust-light);
  --sidebar-bg: rgba(2, 2, 2, var(--sidebar-alpha, 0.8));
  --font-heading: 'Kanit', sans-serif;
  --font-primary: "Inter", sans-serif;
}

html {
  background-color: #000000;
}

body {
  background-color: var(--bg-color);
  font-family: var(--font-primary);
  color: var(--text-primary);
  font-size: var(--font-size-base);
  line-height: var(--text-line-height, 1.5);
  letter-spacing: var(--text-letter-spacing, normal);
  font-weight: var(--base-weight, 400);
  @apply font-body selection:bg-rust selection:text-white transition-colors duration-300;
  position: relative;
  overflow-x: hidden;
  min-height: 100vh;
}

p {
  margin-bottom: var(--paragraph-spacing, 1em);
}

code, pre, .font-mono {
  font-weight: var(--mono-weight, 400);
}

h1, h2, h3, h4, .font-heading {
  font-weight: var(--heading-weight, 900);
  text-transform: var(--text-transform, uppercase);
  letter-spacing: calc(var(--text-letter-spacing, 0.05em) * 2);
}

.text-glow-enabled .military-label,
.text-glow-enabled .nav-text,
.text-glow-enabled h1,
.text-glow-enabled h2,
.text-glow-enabled .font-heading {
  text-shadow: 0 0 calc(var(--text-glow-intensity, 0.5) * 20px) var(--glow-color, rgba(249, 115, 22, var(--glow-intensity, 0.4)));
}

/* CRT Effects */
.crt-container {
  position: relative;
  overflow: hidden;
  animation: chromatic 4s infinite;
  will-change: filter;
}

.crt-container::before {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
  z-index: 101;
  background-size: 100% var(--scanline-density, 3px), 3px 100%;
  pointer-events: none;
  opacity: 0.6;
  will-change: opacity;
}

.crt-container::after {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: rgba(18, 16, 16, 0.03);
  opacity: 0;
  z-index: 101;
  pointer-events: none;
  animation: crt-flicker 0.15s infinite;
}

.bg-grid {
  background-image:
    linear-gradient(rgba(255, 255, 255, var(--grid-opacity)) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, var(--grid-opacity)) 1px, transparent 1px);
  background-size: 30px 30px;
}

.chromatic-aberration {
  text-shadow: 
    calc(var(--chromatic-aberration) * 1px) 0 rgba(255,0,0,0.5),
    calc(var(--chromatic-aberration) * -1px) 0 rgba(0,0,255,0.5);
}

.glitch-effect {
  animation: industrial-glitch 4s infinite;
  animation-duration: calc(1s / var(--glitch-intensity));
}

@keyframes chromatic {
  0% { filter: none; }
  1% { filter: skewX(0.1deg); }
  2% { filter: none; }
  50% { filter: none; }
  51% { filter: skewX(-0.1deg); }
  52% { filter: none; }
  100% { filter: none; }
}

.reduced-motion, .reduced-motion * {
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.001ms !important;
}

.vignette {
  position: fixed;
  inset: 0;
  z-index: 100;
  background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,calc(var(--vignette-intensity, 0.5) * 0.8)) 70%, rgba(0,0,0,var(--vignette-intensity, 0.5)) 100%);
  pointer-events: none;
}

.industrial-frame {
  @apply relative;
  border: var(--card-border-width) solid var(--border-color);
  clip-path: polygon(
    0 0, 
    calc(100% - 10px) 0, 100% 10px, 
    100% 100%, 
    10px 100%, 0 calc(100% - 10px)
  );
}

.tactical-code {
  @apply font-jetbrains uppercase tracking-widest text-[10px] opacity-70;
}

.military-label {
  @apply font-blackops text-rust-light tracking-tighter;
}

.font-industrial {
  @apply font-jetbrains font-medium;
}

.brutalist-card {
  @apply relative;
  background-color: var(--card-bg);
  border: var(--card-border-width) solid var(--border-color);
  backdrop-filter: blur(var(--backdrop-blur));
  box-shadow: var(--card-shadow-size) var(--card-shadow-size) 0px rgba(0, 0, 0, 0.3);
}

.brutalist-card:hover {
  @apply border-rust;
  box-shadow: calc(var(--card-shadow-size) * 1.5) calc(var(--card-shadow-size) * 1.5) 0px rgba(146, 64, 14, 0.4);
}

.animate-text-reveal {
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  animation: text-reveal 1s steps(40, end);
}

@keyframes text-reveal {
  from { width: 0; }
  to { width: 100%; }
}

.industrial-sharp {
  border: 2px solid var(--border-color) !important;
  box-shadow: 6px 6px 0px rgba(0,0,0,0.4) !important;
  border-radius: 0 !important;
}

.industrial-sharp:hover {
   border-color: var(--color-rust) !important;
}

/* Clouds and Atmosphere */
.clouds-overlay {
  position: fixed;
  inset: -20%;
  z-index: 1;
  opacity: 0.3;
  background: 
    radial-gradient(ellipse at 20% 10%, rgba(60, 60, 70, 0.4) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 90%, rgba(50, 50, 60, 0.4) 0%, transparent 60%),
    url("https://www.transparenttextures.com/patterns/asfalt-dark.png");
  pointer-events: none;
  animation: cloudLoop 120s linear infinite;
  will-change: transform;
}

.rain-container {
  position: fixed;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  overflow: hidden;
}

.rain-layer {
  position: absolute;
  inset: -200px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cline x1='20' y1='0' x2='35' y2='20' stroke='white' stroke-opacity='0.4' stroke-width='0.5'/%3E%3C/svg%3E");
  background-repeat: repeat;
  opacity: var(--rain-opacity, 0.2);
}

.rain-layer-back { animation: rainLoop 3s linear infinite; filter: blur(1px); }
.rain-layer-mid { animation: rainLoop 1.5s linear infinite; }
.rain-layer-front { animation: rainLoop 0.8s linear infinite; background-size: 200px 200px; }

/* Global Animations for Particle Network */
@keyframes blobFloat1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(-40px, 40px) scale(1.15); }
  66% { transform: translate(30px, -30px) scale(0.9); }
}

@keyframes blobFloat2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(35px, -45px) scale(0.95); }
  66% { transform: translate(-40px, 25px) scale(1.1); }
}

@keyframes blobFloat3 {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.25); }
}

@keyframes particleFloatCSS {
  0%, 100% { transform: translateY(0) translateX(0) scale(0); opacity: 0; }
  10% { opacity: 0.8; }
  50% { transform: translateY(-50px) translateX(20px) scale(1); opacity: 0.5; }
  90% { opacity: 0.2; }
  100% { transform: translateY(-100px) translateX(-15px) scale(0); opacity: 0; }
}

.animate-blob-float-1 { animation: blobFloat1 12s ease-in-out infinite; }
.animate-blob-float-2 { animation: blobFloat2 15s ease-in-out infinite; }
.animate-blob-float-3 { animation: blobFloat3 10s ease-in-out infinite; }
.animate-particle-float { animation: particleFloatCSS infinite ease-in-out; }
