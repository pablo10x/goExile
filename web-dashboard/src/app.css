@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Kanit:wght@800;900&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Black+Ops+One&family=Syncopate:wght@400;700&family=Michroma&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Red+Hat+Mono:wght@300;400;500;600;700&display=swap');
@import "tailwindcss";

@theme {
  --font-heading: var(--font-heading);
  --font-body: var(--font-primary);
  --font-sans: var(--font-primary);
  --font-primary: var(--font-primary);
  --font-orbitron: var(--font-orbitron);
  --font-rajdhani: var(--font-rajdhani);
  --font-blackops: var(--font-blackops);
  --font-syncopate: var(--font-syncopate);
  --font-michroma: var(--font-michroma);
  --font-jetbrains: var(--font-jetbrains);

  --color-grunge-950: #050505;
  --color-rust: var(--color-rust);
  --color-rust-light: var(--color-rust-light);
  --color-cyan-500: #06b6d4;
  --color-green-500: #22c55e;
  --color-red-500: #ef4444;
  --color-purple-500: #a855f7;
  --color-stone-500: #78716c;
  
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  
  --animate-rain-fast: rainLoop 0.8s linear infinite;
  --animate-rain-mid: rainLoop 1.5s linear infinite;
  --animate-rain-slow: rainLoop 3s linear infinite;
  --animate-cloud-drift: cloudLoop 120s linear infinite;
  --animate-flicker: flicker 4s linear infinite;
  --animate-glitch: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
  --animate-shine: shine 2s infinite;

  @keyframes rainLoop {
    0% { transform: translate3d(0, -100px, 0); }
    100% { transform: translate3d(20px, 100px, 0); }
  }

  @keyframes cloudLoop {
    0% { transform: translate3d(-10%, -5%, 0); }
    50% { transform: translate3d(0%, 0%, 0); }
    100% { transform: translate3d(-10%, -5%, 0); }
  }

  @keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.3; }
  }

  @keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
  }

  @keyframes shine {
    0% { left: -100%; }
    20% { left: 100%; }
    100% { left: 100%; }
  }

  @keyframes terminal-glitch-anim {
    0% { opacity: 0; transform: skewX(0deg); }
    1% { opacity: 0.8; transform: skewX(-20deg); clip-path: inset(10% 0 80% 0); }
    2% { opacity: 0.8; transform: skewX(20deg); clip-path: inset(60% 0 10% 0); }
    3% { opacity: 0.8; transform: skewX(-10deg); clip-path: inset(40% 0 40% 0); }
    4% { opacity: 0; transform: skewX(0deg); }
    100% { opacity: 0; }
  }

  @keyframes progress {
    0% { width: 0%; }
    100% { width: 100%; }
  }

  @keyframes slideInUp {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  @keyframes slideInDown {
    from { transform: translateY(-30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  @keyframes slideInLeft {
    from { transform: translateX(-30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes slideInRight {
    from { transform: translateX(30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes fadeIn {
    from { opacity: 0; filter: blur(10px); }
    to { opacity: 1; filter: blur(0); }
  }

  @keyframes rotate3d {
    from { transform: rotateY(0deg); }
    to { transform: rotateY(360deg); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  @keyframes float_alt {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    33% { transform: translateY(-15px) rotate(2deg); }
    66% { transform: translateY(5px) rotate(-2deg); }
  }

  @keyframes reveal_3d {
    from { transform: perspective(1000px) rotateX(-90deg); opacity: 0; }
    to { transform: perspective(1000px) rotateX(0deg); opacity: 1; }
  }

  @keyframes pulse_glow {
    0%, 100% { box-shadow: 0 0 5px rgba(146, 64, 14, 0.2); filter: brightness(1); }
    50% { box-shadow: 0 0 25px rgba(146, 64, 14, 0.6); filter: brightness(1.2); }
  }

  @keyframes scanline_sweep {
    0% { transform: translateY(-100%); opacity: 0; }
    50% { opacity: 0.5; }
    100% { transform: translateY(1000%); opacity: 0; }
  }

  @keyframes bounce_tactical {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
  }

  @keyframes panic-flash {
    0%, 100% { background-color: rgba(5, 5, 5, 1); }
    50% { background-color: rgba(153, 27, 27, 0.2); }
  }

  @keyframes industrial-glitch {
    0% { transform: translate(0); opacity: 1; }
    20% { transform: translate(-2px, 1px); opacity: 0.8; }
    40% { transform: translate(2px, -1px); opacity: 0.9; }
    60% { transform: translate(-1px, -2px); opacity: 0.8; }
    80% { transform: translate(1px, 2px); opacity: 0.9; }
    100% { transform: translate(0); opacity: 1; }
  }

  @keyframes border-trace {
    0% { border-color: var(--color-rust); box-shadow: 0 0 5px var(--color-rust); }
    50% { border-color: white; box-shadow: 0 0 20px white; }
    100% { border-color: var(--color-rust); box-shadow: 0 0 5px var(--color-rust); }
  }
}

.nav-link-industrial {
  @apply flex items-center gap-4 p-3 relative transition-all duration-300 overflow-hidden border border-transparent;
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%);
}

.nav-link-industrial:hover {
  @apply bg-rust/10 border-rust/40 translate-x-1;
  animation: industrial-glitch 0.2s ease infinite;
}

.nav-link-industrial.active {
  @apply bg-rust text-white border-rust-light shadow-[0_0_20px_rgba(120,53,15,0.4)];
}

.nav-icon-container {
  @apply w-8 h-8 flex items-center justify-center bg-stone-900 border border-stone-800 transition-all duration-300;
}

.nav-link-industrial:hover .nav-icon-container {
  @apply border-rust rotate-12 scale-110;
}

.nav-text {
  @apply font-jetbrains text-[11px] font-black tracking-widest leading-none;
}

.nav-subtext {
  @apply font-mono text-[7px] text-stone-600 uppercase tracking-[0.3em] mt-1;
}

.panic-mode {
  animation: panic-flash 0.5s step-end infinite !important;
}

.panic-mode * {
  border-color: rgba(220, 38, 38, 0.5) !important;
}

.terminal-ticker {
  @apply font-mono text-[9px] text-rust-light whitespace-nowrap overflow-hidden;
  animation: text-reveal 5s steps(100) infinite;
}

.terminal-glitch {
  animation: terminal-glitch-anim 20s infinite;
}

:root {
  --bg-color: #050505;
  --bg-opacity: 1.0;
  --font-primary: "Inter", sans-serif;
  --text-primary: #e7e5e4;
  --text-secondary: #a8a29e;
  --card-alpha: 0.4;
  --card-bg: rgba(28, 25, 23, var(--card-alpha));
  --card-bg-hex: #1c1917;
  --sidebar-bg: rgba(5, 5, 5, var(--sidebar-alpha));
  --sidebar-alpha: 0.7;
  --backdrop-blur: 16px;
  --border-color: #44403c;
  --card-border-width: 1px;
  --card-shadow-size: 4px;
  --accent-color: #78350f;
  --accent-color-light: #92400e;
  --color-rust: var(--accent-color);
  --color-rust-light: var(--accent-color-light);
  --rain-opacity: 0.2;
  
  --font-heading: 'Kanit', sans-serif;
  --font-body: 'Inter', sans-serif;
  --font-orbitron: 'Orbitron', sans-serif;
  --font-rajdhani: 'Rajdhani', sans-serif;
  --font-blackops: 'Black Ops One', system-ui;
  --font-syncopate: 'Syncopate', sans-serif;
  --font-michroma: 'Michroma', sans-serif;
  --font-jetbrains: 'JetBrains Mono', monospace;
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 8px;
}

body {
  background-color: var(--bg-color);
  font-family: var(--font-primary);
  color: var(--text-primary);
  @apply font-body selection:bg-rust selection:text-white transition-colors duration-300;
  position: relative;
  overflow-x: hidden;
  min-height: 100vh;
}

.clouds-overlay {
  position: fixed;
  inset: -20%;
  z-index: 1;
  opacity: 0.3;
  background: 
    radial-gradient(ellipse at 20% 10%, rgba(60, 60, 70, 0.4) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 90%, rgba(50, 50, 60, 0.4) 0%, transparent 60%),
    url("https://www.transparenttextures.com/patterns/asfalt-dark.png");
  pointer-events: none;
  animation: var(--animate-cloud-drift);
  will-change: transform;
  contain: strict;
}

.rain-container {
  position: fixed;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  overflow: hidden;
  contain: strict;
}

.rain-layer {
  position: absolute;
  inset: -200px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cline x1='20' y1='0' x2='35' y2='20' stroke='white' stroke-opacity='0.4' stroke-width='0.5'/%3E%3C/svg%3E");
  background-repeat: repeat;
  opacity: var(--rain-opacity);
  will-change: transform;
}

.rain-layer-back {
  animation: var(--animate-rain-slow);
  filter: blur(1px);
}

.rain-layer-mid {
  animation: var(--animate-rain-mid);
}

.rain-layer-front {
  animation: var(--animate-rain-fast);
  background-size: 200px 200px;
}

.vignette {
  position: fixed;
  inset: 0;
  z-index: 4;
  background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0.9) 100%);
  pointer-events: none;
}

h1, h2, h3, .font-heading {
  @apply font-heading uppercase;
  letter-spacing: -0.02em;
}

.glitch-hover:hover {
  animation: var(--animate-glitch);
  @apply text-rust-light;
}

.glitch-active {
  animation: var(--animate-glitch);
  @apply border-rust text-rust-light relative;
}

.glitch-active::before {
  content: "ERROR";
  position: absolute;
  top: 5px;
  right: 5px;
  font-size: 10px;
  @apply font-mono text-rust bg-black px-1;
}

.stop-animations, .stop-animations * {
  animation: none !important;
  transition: none !important;
}

.grunge-card {
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  @apply backdrop-blur-xl relative overflow-hidden transition-all duration-300 hover:scale-[1.02] hover:border-rust-light shadow-2xl;
}

/* Shine Effect for Cards */
.grunge-card::after {
  content: "";
  position: absolute;
  top: 0;
  height: 100%;
  width: 50%;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.05), transparent);
  animation: var(--animate-shine);
  pointer-events: none;
}

.industrial-btn {
  border-radius: var(--radius-sm);
  background-color: var(--text-primary);
  color: var(--bg-color);
  @apply px-10 py-4 transition-all font-heading font-black text-xs relative z-10
         uppercase tracking-[0.2em]
         hover:bg-[var(--color-rust)] hover:text-white hover:-translate-y-1 active:translate-y-0
         shadow-xl hover:shadow-[0_0_30px_var(--color-rust)];
  border: 1px solid var(--border-color);
}

.text-secondary {
  color: var(--text-secondary);
}

.prose-backdrop {
  @apply bg-black/40 backdrop-blur-md p-6 border-l border-white/10 rounded-sm leading-relaxed;
}

.text-flicker {
  animation: var(--animate-flicker);
}

input {
  @apply bg-stone-900/50 border border-stone-800 p-4 text-white focus:outline-none focus:border-rust transition-all;
}

/* CRT Effect - Optimized for GPU */
.crt-container {
  position: relative;
  overflow: hidden;
  animation: chromatic 4s infinite;
  will-change: filter;
}

.crt-container::before {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
  z-index: 101;
  background-size: 100% 3px, 3px 100%;
  pointer-events: none;
  opacity: 0.6;
  will-change: opacity;
}

.crt-container::after {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: rgba(18, 16, 16, 0.03);
  opacity: 0;
  z-index: 101;
  pointer-events: none;
  animation: crt-flicker 0.15s infinite;
  will-change: opacity;
}

.transition-wrapper {
	will-change: transform, opacity;
	transform: translate3d(0,0,0);
}

@keyframes chromatic {
  0% { filter: none; }
  1% { filter: skewX(0.1deg); }
  2% { filter: none; }
  50% { filter: none; }
  51% { filter: skewX(-0.1deg); }
  52% { filter: none; }
  100% { filter: none; }
}

/* Scratched/Redacted Word Effect */
.scratched-word {
  @apply bg-stone-100 text-stone-950 px-1 cursor-help relative inline-block font-bold selection:bg-rust selection:text-white mx-0.5;
  box-shadow: 0 0 10px rgba(255,255,255,0.1);
}

.scratched-word::before {
  content: "";
  @apply absolute inset-0 pointer-events-none z-10 opacity-30;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.5),
    rgba(0, 0, 0, 0.5) 1px,
    transparent 1px,
    transparent 2px
  );
}

.scratched-word .redacted-text {
  @apply blur-[2px] select-none transition-all duration-300;
}

.scratched-word:hover .redacted-text {
  @apply blur-none opacity-20;
}

.scratched-word .overlay-text {
  @apply absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 font-bold text-[10px] tracking-widest bg-rust text-white transition-opacity duration-200 z-20 uppercase;
}

.scratched-word:hover .overlay-text {
  @apply opacity-100;
}

/* Scanline Text Effect */
.scanline-text {
  @apply relative inline-block font-bold;
}

/* Military Brutalism Utilities */
.industrial-frame {
  @apply relative;
  border: var(--card-border-width) solid var(--border-color);
  clip-path: polygon(
    0 0, 
    calc(100% - 10px) 0, 100% 10px, 
    100% 100%, 
    10px 100%, 0 calc(100% - 10px)
  );
}

.tactical-code {
  @apply font-jetbrains uppercase tracking-widest text-[10px] opacity-70;
}

.military-label {
  @apply font-blackops text-rust-light tracking-tighter;
}

.font-industrial {
  @apply font-jetbrains font-medium;
}

.brutalist-card {
  @apply relative;
  background-color: var(--card-bg);
  border: var(--card-border-width) solid var(--border-color);
  backdrop-filter: blur(var(--backdrop-blur));
  box-shadow: var(--card-shadow-size) var(--card-shadow-size) 0px rgba(0, 0, 0, 0.3);
}

.brutalist-card:hover {
  @apply border-rust;
  box-shadow: calc(var(--card-shadow-size) * 1.5) calc(var(--card-shadow-size) * 1.5) 0px rgba(146, 64, 14, 0.4);
}

@keyframes text-reveal {
  from { width: 0; }
  to { width: 100%; }
}

.animate-text-reveal {
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  animation: text-reveal 1s steps(40, end);
}